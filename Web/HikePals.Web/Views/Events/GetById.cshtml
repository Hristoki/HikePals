@model HikePals.Web.ViewModels.Events.EventViewModel

@{ this.ViewData["Title"] = Model.Title; }


<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></li>
        <li class="breadcrumb-item"><a asp-controller="Events" asp-action="All">Events</a></li>
        <li class="breadcrumb-item active" aria-current="page">@Model.Title</li>
    </ol>
</nav>

<div class="btn-group" role="group" aria-label="Basic example">
    <a type="button" class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.Id">Edit</a>
    <a type="button" class="btn btn-danger" asp-action="Delete" asp-route-id="@Model.Id">Delete</a>
    @if (Model.MaxGroupSize == Model.Participants.Count() || Model.HasJoinedEvent == true)
    {
    <a type="button" class="btn btn-secondary disabled" asp-action="Join" asp-route-id="@Model.Id">Join</a>

    }
    else
    {
    <a type="button" class="btn btn-success" asp-action="Join" asp-route-id="@Model.Id">Joined</a>
    }
    <a type="button" class="btn btn-danger" asp-action="Leave" asp-route-id="@Model.Id">Leave</a>
</div>

<div>

    <div>
        <div class="d-flex flex-row">
            <div class="p-2">Distance - @Model.TripDistance km</div>
            <div class="p-2">Time - @Model.TripDuration h</div>
        </div>
        <div class="col-10"></div>

    </div>
    <div class="row" style="margin-right: 0px;margin-left: 0px;">
        <div class="col-2">
            <ul class="nav flex-column">
                <li class="nav-item ">
                    <a class="nav-link active" href="#">Categories</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Cities</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#">Disabled</a>
                </li>
            </ul>
        </div>

        <img src="@Model.Image" class="img-fluid max-width: 75%;  height: auto" alt="" />


        <div class="card col-md-9">
            <div class="card-body">
                @Model.Details
            </div>
        </div>
        <div>
            <table class="table table-borderless table-striped">
                <thead>
                    <tr>
                        <th scope="col">Name:</th>
                        <th scope="col">Age: </th>
                        <th scope="col">From:</th>
                    </tr>
                </thead>
                @if (Model.Participants.Count() > 0)
                {
                    @foreach (var participant in Model.Participants)
                    {
            <tr>
                <td>@participant.Name</td>
                <td>@participant.Age</td>
                <td>@participant.CityName</td>
                @if (this.User.IsInRole("Administrator") || Model.CreatedBy == Model.UserId)
                {
                    <td>
                        <a type="button" class="close" aria-label="Close" alt="Remove" asp-action="Leave" asp-route-id="@Model.Id">
                            <span aria-hidden="true">&times;</span>
                        </a>
                    </td>
                }
            </tr>
                    }
                }
                else
                {
                    @for (int i = 0; i < Model.MaxGroupSize; i++)
                    {
                       <tr>

                            <td></td>
                            <td></td>
                            <td></td>
                        
                       </tr>
                    }
                }

            </table>
        </div>

    </div>
</div>





